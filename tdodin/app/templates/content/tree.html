<div id="tree" data-url="/get_json_catalog">
</div>

<script>

$(function() {
    $('#tree').tree({
	autoOpen: 1,
	saveState: true,
	useContextMenu: false,
	selectable: true
	});
});

$('#tree').bind(
    'tree.click',
    function(event) {
        if (event.node) {
            // node was selected
			var node = $('#tree').tree('getNodeByID', event.node.id)
			$('#tree').tree('selectNode', node)
			location = '/category/' + node.id
        }
        else {
            // event.node is null
            // a node was deselected
            // e.previous_node contains the deselected node
        }
    }
);
</script>